@import "../node_modules/normalize.css";
@import "../node_modules/bootstrap/dist/css/bootstrap.css";

* {
    box-sizing: border-box;
}

html {
    width: 100%;
    height: 100%;
}

body {
    margin: 0;
    background: #323134;
    width: 100%;
    height: 100%;
}

.rg-game {
    position: relative;
    width: 100%;
    height: 100%;
    overflow: hidden;
}

.rg-viewport {
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: absolute;
    width: 100%;
    height: 100%;
}

.rg-hud {
    color: #f3f4f9;
    position: relative;
    background: rgba(0, 0, 0, 0.25);
}

.rg-entity-info {
    padding: 10px;

    .rg-entity-info-name {
        font-weight: bold;
    }

    .rg-entity-info-health {
        padding-left: 10px;
        margin: 0;

        &.good {
            color: green;
        }

        &.ok {
            color: yellow;
        }

        &.bad {
            color: red;
        }
    }

    .rg-entity-info-floor {
        float: right;
    }
}


@cell-size: 25px;
.rg-map {
    margin: 0;
    position: relative;
    transform: translate(50%, 50%);
    transition: top 0.05s, left 0.05s;
    white-space: pre;

    .fa-square-o:before {
        position: relative;
        top: 1.2px;
    }

    .rg-row {
        height: @cell-size;
    }

    .rg-map-cell-mixin() {
        width: @cell-size;
        height: @cell-size;
        font-size: @cell-size;
        text-align: center;
    }

    @hover-transition: background 0.1s, transform 0.1s, box-shadow 0.1s;

    .rg-tile {
        .rg-map-cell-mixin();
        transition: color 0.1s, @hover-transition;

        &.tile-remembered {
            color: rgba(0.5,0.5,0.5,0.75);
            background-color: #999;

            &.rg-tile-space {
                color: rgba(0.9,0.9,0.5, 0.1);
            }
        }

        &.tile-visible {
            background: white;
        }

        &.tile-unexplored {
            &::before {
                // add space character to fix bug where unexplored tiles weren't
                // aligned with the other tiles properly
                content: " ";
            }
        }

        &:hover {
            transform: scale(1.1);
            box-shadow: 3px 3px 2px 1px rgba(0, 0, 0, 0.15);
        }
    }

    .rg-entity {
        .rg-map-cell-mixin();
        transition: @hover-transition;

        position: absolute;

        &:hover {
            transform: scale(1.2);
            box-shadow: 0 0 1px 5px rgba(79, 136, 177, 0.5);
            background: white;
            border-radius: 2px;
        }
    }

    .rg-entity-actor {
        transition: @hover-transition, top 0.05s, left 0.05s;

        animation-name: active;
        animation-duration: 2s;
        animation-timing-function: steps(2);
        animation-iteration-count: infinite;
        @keyframes active {
            from {
                margin-top: -3px;
            }

            to {
                margin-top: 0px;
            }
        }
    }

    .rg-entity-item {
        transform: scale(0.65);
        animation-duration: 1s;
        animation-name: bobble;
        animation-iteration-count: infinite;
        animation-direction: alternate;
        animation-timing-function: ease-in-out;

        @keyframes bobble {
            from {
                margin-top: -5px;
            }

            to {
                margin-top: 3px;
            }
        }
    }

    .rg-tile-space {
        color: rgba(1,1,1, 0.12);
    }

    .rg-entity-user {
        color: red;
    }
}
